.PHONY: rabbitmq-up rabbitmq-down rabbitmq-logs rabbitmq-restart rabbitmq-clean rabbitmq-ui

# Start RabbitMQ
up:
	@echo "ðŸš€ Starting RabbitMQ..."
	docker compose -f docker-compose.yml up -d
	@echo "âœ… RabbitMQ started"
	@echo "ðŸ“Š Management UI: http://localhost:15672"
	@echo "ðŸ‘¤ Username: repath"
	@echo "ðŸ”‘ Password: repath123"

# Stop RabbitMQ
down:
	@echo "ðŸ›‘ Stopping RabbitMQ..."
	docker-compose -f docker-compose.yml down
	@echo "âœ… RabbitMQ stopped"

# View RabbitMQ logs
logs:
	docker-compose -f docker-compose.yml logs -f rabbitmq

# Restart RabbitMQ
restart:
	@echo "ðŸ”„ Restarting RabbitMQ..."
	docker-compose -f docker-compose.yml restart
	@echo "âœ… RabbitMQ restarted"

# Clean RabbitMQ (remove volumes)
clean:
	@echo "ðŸ§¹ Cleaning RabbitMQ data..."
	docker-compose -f docker-compose.yml down -v
	@echo "âœ… RabbitMQ cleaned"

# Open RabbitMQ Management UI
ui:
	@echo "ðŸŒ Opening RabbitMQ Management UI..."
	xdg-open http://localhost:15672 2>/dev/null || open http://localhost:15672 2>/dev/null || echo "Open http://localhost:15672 in your browser"

# Show RabbitMQ status
status:
	@echo "ðŸ“Š RabbitMQ Status:"
	@docker ps --filter name=repath-rabbitmq --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}"
